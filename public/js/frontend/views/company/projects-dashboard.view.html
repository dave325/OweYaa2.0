<navbar content="{{navbarvm.activeNav}}">
</navbar>

<section id="proj-dash">

  <h2 class="alert alert-danger text-center" ng-if="error">{{error}}</h2>
  <h3 class="alert alert-info text-center" ng-if="error && !vm.noProj">
    <a href="/company/{{vm.user.company_info.username}}/add-on">Click here to get additional hours for your project!</a>
  </h3>
  <h3 class="alert alert-info text-center" ng-if="vm.noProj">
    <a href="/company/{{vm.user.company_info.username}}/project-submission">Click here to add a project!</a>
  </h3>
  <div class="row">


    <aside class="col-md-3 sidenav col-md-offset-1 well">

      <div>
        <h2 class="title"> Projects </h2>
        <div class="nav nav-pills nav-stacked" ng-if="vm.matchedProj">
          <h3>Matched</h3>
          <ul class="nav nav-pills nav-stacked">
            <li>
              <a ng-click="vm.reloadPageNewID($event,vm.matchedProj.jobInfo.projid)">
                <strong>{{vm.matchedProj.jobInfo.title}}</strong>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div>
        <h3>Queued</h3>
        <ul class="nav nav-pills nav-stacked">
          <li ng-if="project.jobInfo.initiated != 1 && project.jobInfo.completed != 1" ng-click="vm.reloadPageNewID($event,project.jobInfo.projid)"
            ng-repeat="project in vm.user.company_project">
            <a>
              <strong>{{project.jobInfo.title}}</strong>
            </a>
          </li>
        </ul>
        <h3>Archived</h3>
        <ul class="nav nav-pills nav-stacked">
          <li ng-if="project.jobInfo.initiated != 1 && project.jobInfo.completed === 1" ng-click="vm.reloadPageNewID($event,project.jobInfo.projid)"
            ng-repeat="project in vm.user.company_project">
            <a>
              <strong>{{project.jobInfo.title}}</strong>
            </a>
          </li>
        </ul>
      </div>


    </aside>



    <div class="col-md-7 col-md-offset-4" ng-if="vm.user.company_project.length > 0">
      <div class="well col-md-12" id="proj-description-pane">
        <h3 class="title">
          {{vm.curProj.jobInfo.title}}
          <span class="glyphicon glyphicon-pencil pull-right" type="button" ng-click="vm.editDescription(vm.curProj)"></span>
        </h3>
        <h4 class="alert alert-info" ng-click="vm.completeProject()">Click here to have the project completed!</h4>
        <!-- Need location -->
        <p>
          Description: {{vm.curProj.jobInfo.projdescription}}
        </p>
        <p>Focus Area: {{vm.curProj.jobInfo.focusarea}}</p>
        <p>Position: {{vm.curProj.jobInfo.position}}</p>
        <p>Is remote?
          <span ng-if="vm.curProj.jobInfo.isremote === 'true'">Yes</span>
          <span ng-if="vm.curProj.jobInfo.isremote != 'true'">No</span>
        </p>
        <p>Job Type: {{vm.curProj.jobInfo.jobtype}}</p>
        <p>Project Deadline: {{vm.curProj.jobInfo.projdeadline}}</p>
        <p>Total Intern Hours: {{vm.curProj.jobInfo.totalinternhours}}</p>
        <ol ng-if="vm.curProj.skills.length > 0" class="skillsModal col-md-12">
          <h4>Skills the project needs:</h4>
          <li ng-repeat="field in vm.curProj.skills | limitTo: 8">
            <p class="col-md-6">{{field.skill}}</p>
          </li>
          <br />
        </ol>
        <br />
        <div class="col-xs-12">
          <h3 class="title">
            Manager Information for Project
            <span class="glyphicon glyphicon-pencil pull-right" type="button" ng-click="vm.editManagerInfo()"></span>
          </h3>
          <p>Manager Name: {{vm.curProj.managerInfo.managername}}</p>
          <p>Manager Contact: {{vm.curProj.managerInfo.managercontact}}</p>
          <p>Manager Department: {{vm.curProj.managerInfo.managerdept}}</p>
        </div>
      </div>
      <!-- End of class well col-md-12 -->


      <div class="col-xs-12" id="interns">
        <div class="well row">
          <h3 class="title">
            Intern hours
            <span class="glyphicon glyphicon-pencil pull-right pull-right" type="button" ng-click="vm.editInternHours(vm.interns)"></span>
          </h3>
          <div ng-if="vm.curProj.candidates.length == 0">
            <p class="alert alert-info">
              No interns selected!
            </p>
          </div>
          <table class="col-xs-12 table table-bordered" ng-if="vm.curProj.candidates.length > 0">
            <thead>
              <tr>
                <th>
                  <strong>name</strong>
                </th>
                <th>
                  <strong>Email</strong>
                </th>
                <th>
                  <strong>Hours</strong>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="candidate in vm.curProj.candidates">
                <td>{{candidate.firstName.concat(" " + candidate.lastName)}}</td>
                <td>{{candidate.email}}</td>
                <td>{{candidate.hours}}</td>
              </tr>
            </tbody>


          </table>

        </div>
        <!-- End of class well -->
      </div>
      <!-- End of id interns -->


      <div class="col-xs-12 well" id="Milestones">
        <h3 class="title">
          Milestones
          <span class="glyphicon glyphicon-pencil pull-right" type="button" ng-click="vm.editMilestones(vm.curProj)"></span>
        </h3>
        <div ng-if="vm.curProj.milestones.length == 0">
          <p class="alert alert-info">
            No milestones added!
          </p>
        </div>
        <div ng-repeat="milestone in vm.curProj.milestones" ng-if="vm.curProj.milestones.length > 0">
          <div class="stat">
            <h4 class="task">{{milestone.milestone}}</h4>
            <p>
              <span class="completionDate">Completion Date: {{milestone.date | date: 'shortDate'}}</span>
              <br /> Is Completed?
              <span class="completionText" ng-if="milestone.completed == 0">No</span>
              <span class="completionText" ng-if="milestone.completed == 1">Yes</span>
            </p>

          </div>
          <!-- End of class stat -->

        </div>
        <!-- End of ng-repeat milestone in vm.milestones -->

      </div>

    </div>
    <!-- End of id projectPanes -->
</section>
<!-- End of class row -->


<footer-base></footer-base>